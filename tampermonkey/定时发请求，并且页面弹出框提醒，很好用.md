(function() {
    'use strict';

    // 创建通知框
    var notification = document.createElement('div');
    notification.style.position = 'fixed';
    notification.style.top = '20px'; // 距离顶部的距离
    notification.style.left = '50%'; // 距离左侧的距离
    notification.style.transform = 'translateX(-50%)'; // 居中
    notification.style.padding = '15px';
    notification.style.backgroundColor = '#f0f0f0';
    notification.style.border = '1px solid #ccc';
    notification.style.borderRadius = '5px';
    notification.style.boxShadow = '0px 0px 10px rgba(0, 0, 0, 0.1)';
    notification.style.zIndex = '9999'; // 确保在最顶层
    notification.style.display = 'none'; // 默认隐藏

    // 创建通知内容
    var content = document.createElement('div');
    content.textContent = '这是一个通知消息！';
    notification.appendChild(content);

    // 创建关闭按钮
    var closeButton = document.createElement('span');
    closeButton.textContent = '×';
    closeButton.style.position = 'absolute';
    closeButton.style.top = '5px';
    closeButton.style.right = '5px';
    closeButton.style.cursor = 'pointer';
    closeButton.onclick = function() {
        notification.style.display = 'none'; // 点击关闭按钮时隐藏通知
    };
    notification.appendChild(closeButton);

    // 将通知框添加到页面中
    document.body.appendChild(notification);

    // 获取当前时间
    var now = new Date();
    var dayOfWeek = now.getDay(); // 获取星期几，0代表星期日，1代表星期一，以此类推
    var hour = now.getHours();

    // 判断是否是工作日并且在9点执行
    if (dayOfWeek >= 1 && dayOfWeek <= 5 && hour === 9) {
        // 发送请求
        GM_xmlhttpRequest({
            method: "GET",
            url: "http://example.com/backend", // 替换为你的后台接口地址
            onload: function(response) {
                // 处理响应
                if (response.responseText === "some_data") {
                    // 如果有数据，显示通知
                    notification.style.display = 'block';
                       // 一分钟后自动隐藏
    setTimeout(function() {
        notification.style.display = 'none';
    }, 60000); // 60000 毫秒即 1 分钟
                } else {
                    // 如果没有数据变化，不做任何处理
                }
            }
        });
    }
})();
